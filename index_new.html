<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/lib/x-editable/dist/jqueryui-editable/css/jqueryui-editable.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
    <link href="/lib/jquery-ui/themes/base/jquery-ui.min.css" rel="stylesheet" />
    <link href="/lib/color-picker/color-picker.min.css" rel="stylesheet" />
    <link href="/css/layout.css" rel="stylesheet" />
    <link href="/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="/lib/notifications/animate.css" rel="stylesheet" />
    <link href="/css/notifications.css" rel="stylesheet" />
    <link href="/css/smalllayout.css" rel="stylesheet" id="small" media="(max-width: 765px)">
    <link rel="stylesheet" href="/lib/flag-icon-css/css/flag-icon.min.css" />
    <link rel="stylesheet" href="/css/tabNavigation.css" />
    <link rel="stylesheet" type="text/css" href="/css/loadingSpinner.css" />
    <link rel="stylesheet" type="text/css" href="/css/popup.css" />
    <link rel="stylesheet" type="text/css" href="/lib/pageguide/pageguide.css" />
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/jquery-validation/dist//jquery.validate.js"></script>
    <script src="/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
    <script src="/lib/jquery-serialize/jquery.serialize-object.min.js"></script>
    <script src="/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/lib/notifications/bootstrap-notify.min.js" async></script>
    <script src="/lib/lodash/lodash.min.js"></script>
    <script src="/js/global/localStorage.js"></script>
    <script src="/js/global/notification.js" async></script>
    <script src="/js/global/tabNavigation.js" async></script>
    <script src="/js/Popups.js" async></script>
    <script src="/lib/jquery-ui/jquery-ui.js"></script>
    <script src="/lib/x-editable/dist/jqueryui-editable/js/jqueryui-editable.min.js"></script>
    <script>
        var defaultSteps = [{"target": "#topbar_user","content": "Die Benutzereinstellungen","direction": "bottom"},{"target": "#navbar_work","content": "Arbeit!","direction": "right"},{"target": "#topbar_language","content": "Hier kann man die Sprache anpassen","direction": "bottom"}];
    </script>

    <link rel="stylesheet" href="/css/formdesigner.css" />
    <link rel="stylesheet" href="/lib/gridstack/dist/gridstack.css" />

    <script type="text/javascript" src="/lib/gridstack/dist/gridstack.js"></script>
    <script type="text/javascript" src="/lib/gridstack/dist/gridstack.jQueryUI.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <meta charset="UTF-8">
    <style id='dynamiccolors'>.primarycolor{background-color:rgb(28,67,104); color: #dedede;}.secondarycolor{background-color:rgb(77,78,90); color: #dedede;}.themecolor{background-color:rgb(255,255,255); color: #666666;}.primarycolorhover:hover{background-color:#86b4df; color: #666666;}.hoverprimary:hover{background-color:rgb(28,67,104); color: #dedede;}.secondarycolorhover:hover{background-color:#adadb8; color:#666666;}.hoversecondary:hover{background-color:rgb(77,78,90); color: #dedede;}.themecolorhover: hover{ background-color#b3b3b3; color: #666666;}.activeprimary{border-right: 4px solid rgb(28,67,104); background-color:#adadb8; color: #666666;}.inputsecondaryfont{border-bottom: 1px solid #dedede;}.spinnerColorIeOnly{border-color: rgb(28,67,104); border-top-color: transparent;}.activeinputprimary:focus{border-bottom: 1px solid rgb(28,67,104);}.primarycolor:focus{background-color:rgb(28,67,104); color: #dedede;}.secondarycolor:focus{background-color:rgb(77,78,90); color: #dedede;}.themecolor:focus{background-color:rgb(255,255,255); color: #666666;}</style>
</head>
<body>
<div id="applicationoverlay">
    <input name="__RequestVerificationToken" type="hidden" value="CfDJ8B-ouK7tKdxHjbyarnKZI72vkiSiif9GqWD1sAECDDOsmA-EzrhB1ab_a8km_Us37GblxW8QiL1aiv3n8RRh-Z1TrYl_71kAX6TkSdrLbnGs_vkaiVVmjXYjrZmmhqM4Jy0KgorbL4nf0aIk107FrEEBdagvlAv-lZ2Yg6lbEpRBkLrqYAeh19hHY_mb8usgcQ" />
    <div class="topbar noselect primarycolor">
        <div class="navbarbutton hoversecondary" onclick="onTopActionBarNavbarExpandButton()"><i class="fa fa-bars fa-rotate-180" aria-hidden="true"></i></div>
        <div class="topbartitleitem" id="applicationtitle"><img class="applicationlogo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" /><p>LC Revolution</p></div>
        <div class="topmenuitem topactionbaruser push-right hoversecondary dropdown-button" id="topbar_user">
            <img class="userimage" src="http://lorempixel.com/output/people-q-c-400-400-1.jpg" />            <p class="clickabletoptext">Maximilian Mustermann</p>
            <i class="smallericonfont fa fa-caret-down fa-fw" aria-hidden="true"></i>
            <div class="dropdown-content userdropdown secondarycolor" aria-hidden="true">
                <div class="biguser secondarycolor hoversecondary">
                    <table>
                        <tr>
                            <td rowspan="2"><img class="biguserimage" src="http://lorempixel.com/output/people-q-c-400-400-1.jpg" /></td>
                            <td>
                                <span>Maximilian Mustermann</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="smaller">mmustermann@muster.com</span>
                            </td>
                        </tr>
                    </table>
                </div>
                <a href="#" class="splitter"><span></span></a>
                <a href="#" class="secondarycolorhover secondarycolor"><i class="fa fa-pencil" aria-hidden="true"></i><span>Profil bearbeiten</span></a>
                <a href="/Account/LogOut" class="secondarycolorhover secondarycolor"><i class="fa fa-power-off" aria-hidden="true"></i><span>Logout</span></a>
            </div>
        </div>
        <div class="topmenuitem push-right hoversecondary pageguide-toggle-open" id="topbar_help"><i class="fa fa-question-circle-o fa-fw" aria-hidden="true"></i></div>
        <div class="topmenuitem push-right hoversecondary dropdown-button" id="topbar_search">
            <i class="fa fa-search fa-fw" aria-hidden="true"></i>
            <div class="dropdown-content searchsidebar secondarycolor" aria-hidden="true">
                <script>
                    $(document).ready(function ()
                    {
                        $('#searchbarinput').keypress(function (e)
                        {
                            if (e.which == 13)
                            {
                                submitSearchForm();
                                return false;
                            }
                        });
                    });
                    function submitSearchForm()
                    {
                        if (searchInputIsNotEmpty())
                        {
                            $.ajax({
                                type: "POST",
                                url: '/Search/Search',
                                contentType: "application/json; charset=utf-8",
                                data: { data: $('#searchbarinput').val() },
                                dataType: "json",
                                success: parseSearchData,
                                error: function() { alert('Failed to load results','danger'); }
                            });
                        }
                    }
                </script>
                <div class="searchform">
                    <input class="searchbarinput inputsecondaryfont secondarycolor" id="searchbarinput" type="text" placeholder="Suchen" />
                    <!--
                    -->
                    <div onclick="submitSearchForm()" class="searchbarsubmit secondarycolor secondarycolorhover dontclose" id="searchbarsubmit"><i class="fa fa-search" aria-hidden="true"></i></div>
                    <div class="searchbar-resultcount"><span></span></div>
                </div>

                <div class="searchresults">
                </div>
                <div class="searchsidebar-displayall secondarycolor secondarycolorhover"><i class="fa fa-caret-left" aria-hidden="true"></i></div>
            </div>
        </div>
        <div class="topmenuitem push-right hoversecondary dropdown-button" id="topbar_history">
            <i class="fa fa-history fa-fw" aria-hidden="true"></i>
            <div class="dropdown-content historysidebar secondarycolor" aria-hidden="true">
                <script>
                    $(document).ready(function ()
                    {
                        $.ajax({
                            type: "POST",
                            url: '/History/History',
                            contentType: "application/json; charset=utf-8",
                            data: "",
                            dataType: "text",
                            success: parseHistoryData,
                            error: function() { alert('Failed to load results','danger'); }
                        });
                    });
                </script>
                <div class="historyresults">
                </div>
                <div class="historysidebar-displayall secondarycolor secondarycolorhover"><i class="fa fa-caret-left" aria-hidden="true"></i></div>
            </div>
        </div>
        <div class="topmenuitem push-right hoversecondary dropdown-button" id="topbar_language">
            <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
            <div class="dropdown-content language-dropdown secondarycolor" aria-hidden="true">
                <a onclick="changeLanguage('de-de')" class="secondarycolor secondarycolorhover"><span class="flag-icon flag-icon-de dropdown-flags"></span><span>Deutsch</span></a>
                <a onclick="changeLanguage('en-us')" class="selected-dropdown secondarycolor secondarycolorhover"><span class="flag-icon flag-icon-us dropdown-flags"></span><span>Englisch</span><i class="fa fa-check language-check-icon" aria-hidden="true"></i></a>
            </div>
        </div>
    </div>
    <div class="sidebar noselect secondarycolor" id=sidebar>
        <div id="navbar_dashboard" class="sidebaritem secondarycolorhover " onclick="window.location='/MyDashboard'">
            <i class="fa fa-bar-chart fa-fw" aria-hidden="true"></i>
            <span>MyDashboard</span>
        </div>
        <div id="navbar_work" class="sidebaritem secondarycolorhover " onclick="window.location='/MyWork'">
            <i class="fa fa-wrench fa-fw" aria-hidden="true"></i>
            <span>MyWork</span>
        </div>

        <div class="splitter"></div>
        <div id="navbar_config" class="sidebaritem secondarycolorhover " onclick="window.location='/MyConfig'">
            <i class="fa fa-cog fa-fw" aria-hidden="true"></i>
            <span>MyConfig</span>
        </div>
        <div class="splitter"></div>
        <div id="navbar_config" class="sidebaritem secondarycolorhover " onclick="window.location='/MyForms'">
            <i class="fa fa-cog fa-fw" aria-hidden="true"></i>
            <span>MyForms</span>
        </div>
        <div class="splitter"></div>
        <div id="navbar_config" class="sidebaritem secondarycolorhover " onclick="window.location='/template/list'">
            <i class="fa fa-cog fa-fw" aria-hidden="true"></i>
            <span>MyTemplates</span>
        </div>
        <div class="splitter push-bottom"></div>
        <div id="navbar_adminconfig" class="sidebaritem push-bottom secondarycolorhover " onclick="window.location='/AdminConfig'">
            <i class="fa fa-cog fa-fw" aria-hidden="true"></i>
            <span>Administrator Settings</span>
        </div>
    </div>
    <div id="contentoverlay" class="contentoverlay">
        <div class="content">
            <style type="text/css">

                .list-group-item {
                    cursor:move;
                }

                .block-widget {
                    background-color: transparent;
                    border: 1px dashed #000;
                    width: 100%;
                    min-height: 400px;
                    margin-bottom: 15px;
                }

            </style>

            <div class="contentpanelWrapper" id="contentpanelWrapper">
                <div class="contentpanel" id="contentpanel-1">
                    <div class="row">
                        <div class="col-md-2 col-xs-10">
                            <div class="panel-group" id="droppable-accordion">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#droppable-accordion" href="#collapse-fields">Fields</a>
                                        </h4>
                                    </div>
                                    <div id="collapse-fields" class="panel-collapse collapse in">
                                        <div class="panel-body" id="field-widgets">
                                            .. fields


                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#droppable-accordion" href="#collapse-fieldgroups">Fieldgroups</a>
                                        </h4>
                                    </div>
                                    <div id="collapse-fieldgroups" class="panel-collapse collapse">
                                        <div class="panel-body" id="fieldgroup-widgets">
                                            .. field groups
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#droppable-accordion" href="#collapse-controls">Controls</a>
                                        </h4>
                                    </div>
                                    <div id="collapse-controls" class="panel-collapse collapse">
                                        <div class="panel-body" id="control-widgets">
                                            .. controls
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#droppable-accordion" href="#collapse-depositories">Depositories</a>
                                        </h4>
                                    </div>
                                    <div id="collapse-depositories" class="panel-collapse collapse">
                                        <div class="panel-body">
                                            <div class="list-group" id="depository-widgets">
                                                <!-- Depository -> Container -->
                                                <div class="list-group-item ui-draggable ui-draggable-handle grid-stack-item" data-widget-type="container">
                                                    <i class="fa fa-square-o" aria-hidden="true"></i> &nbsp; <span class="fieldname">Container</span>
                                                    <div class="push-right btn-toolbar field-options">
                                                        <!-- Depository Options -->

                                                    </div>
                                                </div>
                                                <!-- Depository -> Block -->
                                                <div class="list-group-item ui-draggable ui-draggable-handle ui-sortable-handle" data-widget-type="block">
                                                    <i class="fa fa-table" aria-hidden="true"></i> &nbsp; <span class="fieldname">Block</span>
                                                    <div class="push-right btn-toolbar field-options">
                                                        <!-- Depository Options -->

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- BLOCK GRID -->
                        <div class="col-md-8 col-xs-10">
                            <div class="row">
                                <div id="sortable-blocks" class="col-md-12" style="min-height:600px;">

                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 col-xs-10">

                        </div>
                    </div>
                </div>
            </div>

            <script>
                (function ($) {
                    var depositories = [];
                    /* depository = {
                     name: 'Nada',
                     containers: [{
                     id: 0,
                     x: 5,
                     y: 3,
                     controls: [{
                     id: -,
                     type: -,
                     order: -,
                     mapping: -
                     }]
                     ]
                     }
                     */

                    var initDesigner = function () {

                        /* Dragging Depository Widget (BLOCK) */
                        $('#depository-widgets .list-group-item[data-widget-type=block]').draggable({
                            cursor: 'move',
                            helper: 'clone',
                            zIndex: 100,
                            connectToSortable: '#sortable-blocks',
                            revert: 'invalid',
                            scroll: false
                        });

                        /* Dragging Depository Widget (CONTAINER) */
                        $('#depository-widgets .list-group-item[data-widget-type=container]').draggable({
                            cursor: 'move',
                            helper: 'clone',
                            zIndex: 100,
                            revert: 'invalid',
                            scroll: false
                        });

                        /* Dropping Depository Widget (BLOCK) */
                        $('#sortable-blocks').sortable({
                            update: function (event, ui) {
                                if (ui.item) {
                                    $(ui.item).dropBlock();
                                }
                            }
                        });

                        /* Dropping Depository Widget (CONTAINER) */
                        $("#sortable-blocks div[data-widget-type=block]").droppable({
                            drop: function (event, ui) {
                                $(ui.item).dropContainer();
                            }
                        });

                        console.log('loaded');
                    }

                    /* Prepare Depository -> Block widget on drop */
                    $.fn.dropBlock = function () {
                        /* Initialize our grid */
                        var block = $(this);

                        $(block).empty().addClass('block-widget grid-stack').removeAttr('style');

                        block.gridstack({
                            width: 12,
                            float:false,
                            acceptWidgets: '.grid-stack-item'
                        });
                    }

                    /* Prepare Depository -> Container widget on drop */
                    $.fn.dropContainer = function () {
                        /*<div data-gs-y="0" data-gs-width="2" data-gs-height="2" class="grid-stack-item ui-draggable ui-resizable ui-resizable-autohide" data-gs-x="10">
                         <div class="grid-stack-item-content ui-draggable-handle">
                         </div>
                         <div>
                         </div>
                         <div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90; display: none;"></div></div>
                         */
                    }

                    initDesigner();
                }(jQuery));
            </script>
        </div>
    </div>
    <div class="tab-navigation">
        <div class="tab-container row noselect panelNav">
            <div id="tab-1" class="col-xs-2 tab activetab">
                <table id="tabTable-1" class="tab-table primarycolor">
                    <tr>
                        <td class="tab-icon" id="tabIcon-1">
                            <img src="http://www.lorempixel.com/200/200/" />
                        </td>
                        <td class="tab-text" id="tabText-1">
                            Tab 1 von 3
                        </td>
                        <td class="tab-close" id="tabClose-1">
                            <i class="fa fa-times"></i>
                        </td>
                    </tr>
                </table>
            </div>
            <div id="tab-2" class="col-xs-2 tab ">
                <table id="tabTable-2" class="tab-table secondarycolor">
                    <tr>
                        <td class="tab-icon" id="tabIcon-2">
                            <i class="fa fa-hand-rock-o"></i>
                        </td>
                        <td class="tab-text" id="tabText-2">
                            Tab 2 von 3
                        </td>
                        <td class="tab-close" id="tabClose-2">
                            <i class="fa fa-times"></i>
                        </td>
                    </tr>
                </table>
            </div>
            <div id="tab-3" class="col-xs-2 tab ">
                <table id="tabTable-3" class="tab-table secondarycolor">
                    <tr>
                        <td class="tab-icon" id="tabIcon-3">
                            <i class="fa fa-hand-paper-o"></i>
                        </td>
                        <td class="tab-text" id="tabText-3">
                            Tab 3 von 3
                        </td>
                        <td class="tab-close" id="tabClose-3">
                            <i class="fa fa-times"></i>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="modal-container" class="modal fade hidden-print" style="overflow: hidden;" tabindex="-1" role="dialog">
</div>
<script src="/lib/pageguide/pageguide.js"></script>
<script src="/js/global/layout.js"></script>
</body>
</html>